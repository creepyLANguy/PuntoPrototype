:root {
  --teamAcolour: #ffff00;
  --teamBcolour: #00ffff;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  background: black;
  color: white;
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

/* Scoreboard layout */
.scoreboard {
  display: flex;
  justify-content: space-around;
  padding: 20px;
}

.team {
  width: 45%;
  padding: 30px 30px 0;
  border-radius: 22px;
  background: rgba(255,255,255,0);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Team borders and text color */
.team-a { 
  border: 6px solid var(--teamAcolour);
  color: var(--teamAcolour); 
}

.team-b { 
  border: 6px solid var(--teamBcolour);
  color: var(--teamBcolour); 
}

/* Team name */
.team-name { 
  font-size: 36px; 
  cursor: pointer; 
  user-select: none; 
}
.team-name:hover { 
  opacity: 0.85; 
  text-decoration: underline; 
}

/* Meta rows */
.meta { width: 100%; }

.row {
  padding: 0 20px;
  display: flex;
  justify-content: space-between;
  font-size: 36px;
  align-items: baseline;
}

/* Row labels (white) and scores (team color) */
.row span:first-child { 
  font-weight: 100; 
  color: white; /* keep labels white */ 
}

.row span:last-child { 
  font-weight: 700; 
  font-size: 50px; 
  color: inherit; /* team color */ 
}

/* Points display */
.points-wrapper {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative; /* needed for absolute indicator */
}

.points {
  font-size: 200px;
  font-weight: 800;
  text-align: center;
  color: inherit; /* team color */
}

/* Indicator dot */
.indicator-dot { position: absolute; /* position over the score */ top: 50%; /* center vertically */ left: 50%; /* center horizontally */ transform: translate(-50%); /* adjust Y to appear above the number */ border-left: 22px solid transparent; border-right: 22px solid transparent; border-bottom: 34px solid #ffffff; opacity: 0; transition: opacity 0.2s ease; pointer-events: none; /* prevent blocking interactions */ }

.controls { display: flex; gap: 15px; justify-content: center; }

.action-button {
  background: rgba(255,255,255,0.06);
  color: white; /* always white */
  border: 2px solid #888;
  border-radius: 8px;
  padding: 10px 30px;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.2s;
  width: 10%;
}
.action-button:hover { 
  background: rgba(255,255,255,0.12); 
  border-color: white; 
}

/* Set/game controls */
.set-controls { text-align: center; margin-top: 30px; }

#setA, #setB, #setsA, #setsB,
#gamesA, #gamesB {
  display: flex;
  flex-direction: row-reverse; /* RTL fill */
  align-items: center;
  gap: 8px;
}

/* Set/game dots */
.set-dot, .game-dot {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background: white; /* default inactive */
  opacity: 0.1;
}

.set-dot { opacity: 0; }

.set-dot.filled,
.game-dot.filled {
  opacity: 1;
  background: currentColor; /* inherit team color */
}

/* Keep set/game labels white */
#setA, #setB, #setsA, #setsB,
#gamesA, #gamesB {
  color: white;
}

/* Score animation */
.team.score-animate { 
  animation: team-pop 1.5s cubic-bezier(0.2,1.4,0.3,1); 
}

.team.score-animate::before {
  content:"";
  position:absolute;
  inset:-50%;
  background: currentColor;
  opacity:0.25;
  animation: burst 1.5s ease-out forwards;
}

@keyframes team-pop {
  0% { transform: scale(1); }
  35% { transform: scale(1.125); }
  100% { transform: scale(1); }
}

@keyframes burst {
  0% { transform: scale(0); opacity: 1; }
  100% { transform: scale(1); opacity: 0; }
}

/* Cooldown display */
.cooldown {
  display: flex;
  justify-content: center; /* centers content horizontally */
  align-items: center;     /* centers content vertically if needed */
  text-align: center;
  font-size: 22px;
  font-weight: bold;
  color: white;
  opacity: 0;
  transition: opacity 0.2s;
  margin: 20px auto;       /* center horizontally and add vertical spacing */
  width: fit-content;      /* shrink to content width */
}


.cooldown.active { opacity:1; }

/* Video reader */
#reader { width:320px; margin:15px auto; }
#reader video { 
  filter: grayscale(100%); 
  transform: scaleX(-1); 
  width:100%; 
  height:100%; 
  object-fit: cover; 
  transform-origin: center; 
  aspect-ratio: 1/1; 
}

.reset-modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.reset-modal.hidden {
  display: none;
}

.reset-box {
  background: #111;
  color: white;
  padding: 24px;
  border-radius: 14px;
  text-align: center;
  min-width: 240px;
}

.reset-actions {
  margin-top: 16px;
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

.reset-actions button {
  flex: 1;
  padding: 10px;
  border-radius: 8px;
  border: none;
  font-weight: bold;
  cursor: pointer;
}

/* -------- UNDO HOLD EFFECT -------- */

#undoBtn {
  position: relative;
  overflow: hidden;
}

#undoBtn.holding::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(255, 0, 0, 0.2);
  transform: scaleX(0);
  transform-origin: left;
  animation: undoFill 0.8s linear forwards;
}

@keyframes undoFill {
  from { transform: scaleX(0); }
  to { transform: scaleX(1); }
}
